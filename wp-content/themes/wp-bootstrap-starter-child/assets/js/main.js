"use strict";function initializeLazyLoader(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a){var n="loadMore_"+t+"_"+e.id;document.getElementById(n)||(jQuery(e).after("<div class='d-flex align-items-center justify-content-center px-3 pb-4'><button id='"+n+"' class='load-more-btn btn btn-sm btn-secondary text-white font-weight-semibold text-capitalize mb-4 w-100'>Load More</button></div>"),jQuery("#"+n).click(function(a){jQuery("#"+n).attr("disabled","disabled");var r=jQuery(e).children("[data-lazyelement]").length,o={count:r,action:t,params:""==e.dataset.ajaxparams?null:JSON.parse(e.dataset.ajaxparams)};jQuery(e).addClass("lazyloading"),sendLazyLoadRequest(e,o),a.stopPropagation()}))}else jQuery(window).scroll(function(){if(jQuery(e).hasClass("show")&&!jQuery(e).hasClass("lazyloading")&&!jQuery(e).hasClass("lazyloadingcomplete")){var a=jQuery(e).children("[data-lazyelement]").length,n=jQuery(window).scrollTop()+jQuery(window).height(),r=jQuery(e).offset().top+jQuery(e).height();if(n>r){var o={count:a,action:t,params:""==e.dataset.ajaxparams?null:JSON.parse(e.dataset.ajaxparams)};jQuery(e).addClass("lazyloading"),sendLazyLoadRequest(e,o)}}})}function sendLazyLoadRequest(e,t){e.innerHTML+=loadingGif,jQuery.ajax({url:ajaxUrl,type:"POST",beforeSend:function(e){e.setRequestHeader("csrf_token",jQuery('meta[name="csrf-token"]').attr("content"))},data:t,dataType:"json",success:function(a){e.innerHTML=e.innerHTML.replace(loadingGif,""),e.innerHTML+=a.data.content,jQuery(e).removeClass("lazyloading");var n="loadMore_"+t.action+"_"+e.id;jQuery("#"+n).removeAttr("disabled"),""==a.data.content.trim()&&(jQuery(e).addClass("lazyloadingcomplete"),jQuery("#"+n).hide())},error:function(e){console.error("Error: ",e)}})}function sendLoadRequest(e,t){e.innerHTML=loadingGif,jQuery.ajax({url:ajaxUrl,type:"POST",beforeSend:function(e){e.setRequestHeader("csrf_token",jQuery('meta[name="csrf-token"]').attr("content"))},data:t,dataType:"json",success:function(t){e.innerHTML=t.data.content,e.style.height="auto","undefined"!=typeof e.dataset.ajaxheader&&(""==t.data.content.trim()?(document.getElementById(e.dataset.ajaxheader).style.display="none",jQuery(e).addClass("nodata")):document.getElementById(e.dataset.ajaxheader).style.display="block");var a=new CustomEvent("containerLoaded",{detail:e.dataset});document.body.dispatchEvent(a)},error:function(e){console.error("Error: ",e)}})}function addToCart(e,t){var a=window.sessionStorage.getItem("cart"),n=JSON.parse(a);null==n&&(n={}),n.hasOwnProperty(e)?n[e].qty+=parseInt(t):n[e]={qty:parseInt(t)},window.sessionStorage.setItem("cart",JSON.stringify(n))}function getCart(){var e=window.sessionStorage.getItem("cart");JSON.parse(e)}function checkout(){}function fixSession(){var e={};$(".cartQty").each(function(t,a){switch(a.dataset.posttype){case"collection":case"country":e[a.dataset.snackid]={},e[a.dataset.snackid][a.dataset.cratesize]=parseInt(a.value);break;default:e[a.dataset.snackid]=parseInt(a.value)}}),sessionStorage.setItem("cart",JSON.stringify(e))}function validateCreditCardInputs(e,t,a,n,r,o,s,i){function d(e){var t=/^\b\d{13,16}\b$/;return t.test(e)}function c(e){var t=/^\d{2}$/;return t.test(e)}function l(e){var t=/^\b\d{3,4}\b$/;return t.test(e)}return 0===e.val().length||0===t.val().length||0===a.val().length||0===n.val().length?(doAction=!1,r.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">One or more fields were left blank</p>')):(r.html(""),doAction=!0),d(e.val())?(o.html(""),doAction=!0):(doAction=!1,o.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Credit card number must be between 13 - 16 digits</p>')),c(t.val())&&c(a.val())?(s.html(""),doAction=!0):(doAction=!1,s.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Expiration month and year must each be 2 digits</p>')),l(n.val())?(i.html(""),doAction=!0):(doAction=!1,i.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">CVV must be 3 - 4 digits</p>')),doAction}function validateCreateAccountInputs(e,t,a,n,r){function o(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/;return t.test(e)}function s(e){var t=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;return t.test(e)}return 0===e.val().length||0===t.val().length?(doAction=!1,a.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">One or more fields were left blank</p>')):(a.html(""),doAction=!0),o(e.val())?(n.html(""),doAction=!0):(doAction=!1,n.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Please enter a valid email address</p>')),s(t.val())?(r.html(""),doAction=!0):(doAction=!1,r.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Passwords must be longer than eight characters and include at least one uppercase letter, one lowercase letter, and one number</p>')),doAction}function runStripe(e,t,a){APev=!1,CCev=!1,e.createToken(t).then(function(e){if(e.error){jQuery(a).removeAttr("disabled").text(confirmPaymentText);var t=document.getElementById("card-errors"),n=document.querySelector(".loggedInCardErrors");t.textContent=e.error.message,n.style.backgroundColor="#DC3545",n.textContent=e.error.message,$("#signup-customer").removeClass("avoid-clicks")}else{document.querySelector(".placeOrderCheckout").textContent="Processing...";var r={action:"sc_confirm_payment",payment_method:"card",token:e.token.id};submitAjaxForm(actionUrl,r,confirmPaymentText,a)}})}function initializeAjaxForms(){$(".ajax_form").unbind("submit"),$(".ajax_form").on("submit",function(e){e.preventDefault();var t=!0,a=jQuery(this).find('[type="submit"]').first(),n=jQuery(a).text();if(jQuery(this).find('[type="submit"]').first().attr("disabled","disabled"),jQuery(this).find('[type="submit"]').first().text(""),jQuery(this).find('[type="submit"]').first().html('<div class="spinner-border text-light" role="status">\n        <span class="sr-only">Loading...</span>\n      </div>'),void 0!=ccNumber.val()&&void 0!=ccExpMonth.val()&&void 0!=ccExpYear.val()&&void 0!=ccCvv.val()&&"guestCheckout"!==$(this).attr("id")&&(t=validateCreditCardInputs(ccNumber,ccExpMonth,ccExpYear,ccCvv,errorText1,errorText2,errorText3,errorText4)),void 0!=email.val()&&void 0!=password.val()&&"guestCheckout"!==$(this).attr("id")&&(t=validateCreateAccountInputs(email,password,errorText1,errorText2,errorText3)),t){var r=$(this).attr("action");$(".form-error").empty();var o={},s=!0,i=!1,d=void 0;try{for(var c,l=$(this).serializeArray()[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var u=c.value;o[u.name]=u.value}}catch(p){i=!0,d=p}finally{try{!s&&l["return"]&&l["return"]()}finally{if(i)throw d}}submitAjaxForm(r,o,n,a)}else jQuery(a).removeAttr("disabled"),jQuery(a).html(""),jQuery(a).text(n)})}function disableSubmit(e){jQuery(e).attr("disabled","disabled"),jQuery(e).html('<div class="spinner-border text-light" role="status">\n        <span class="sr-only">Loading...</span>\n        </div>')}function submitAjaxForm(e,t,a,n){jQuery.ajax({url:e,type:"POST",async:!1,beforeSend:function(e){e.setRequestHeader("csrf_token",jQuery('meta[name="csrf-token"]').attr("content"))},data:t,dataType:"json",success:function(e){if(console.log("Success: ",e),"object"===_typeof(e.data)&&"callback"in e.data){var t=new Array;"callbackArguments"in e.data&&(t=e.data.callbackArguments),runFunction(e.data.callback,t)}else console.log("Nothing left to do.");jQuery(".loading_wrapper").fadeOut()},error:function(e){if(console.error(e),"object"===_typeof(e.responseJSON.data)&&"show_message"in e.responseJSON.data&&"message"in e.responseJSON.data&&e.responseJSON.data.show_message===!0)alert(e.responseJSON.data.message),jQuery(n).removeAttr("disabled");else{jQuery(".form-error").html('<p class="mw-100 text-center mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">An error occurred while processing your request.</p>');var t=document.getElementById("card-errors"),a=document.querySelector(".loggedInCardErrors");t.textContent=e.responseJSON.data,a.style.backgroundColor="#DC3545",a.textContent=e.responseJSON.data}document.getElementById("packError")&&jQuery("#packError").text(e.responseJSON.data),jQuery(".loading_wrapper").fadeOut()},complete:function(){jQuery(n).removeAttr("disabled"),jQuery(n).html(a)}})}function runFunction(e,t){var a=window[e];"function"==typeof a&&a.apply(window,t)}function loginSuccess(e){""!=e.redirect_link?straightRedirect(e):window.location.reload()}function updateCartCounter(e){if(document.getElementById("cart-counter")){var t=document.getElementById("cart-counter").textContent,a=parseInt(t)+parseInt(e);document.getElementById("cart-counter").textContent=a,0===a&&jQuery("#cart-counter").remove()}else jQuery("#userCart").append("<div id='cart-counter'>"+e+"</div>")}function cartDirectUpdateSuccess(e){sessionStorage.setItem("cart",e.cart)}function cartSuccess(e){updateCartCounter(e.quantity),sessionStorage.setItem("cart",e.cart),jQuery('<form action="/added-to-cart" method="POST"/>').append(jQuery('<input type="hidden" name="snack_id">').val(e.snack_id)).append(jQuery('<input type="hidden" name="crate_size">').val(e.crate_size)).append(jQuery('<input type="hidden" name="quantity">').val(e.quantity)).appendTo(jQuery(document.body)).submit()}function cartRemovalSuccess(e){updateCartCounter(e.quantity*-1),sessionStorage.setItem("cart",e.cart),window.location.reload()}function fulfillmentSuccess(){window.location.reload()}function printLabelSuccess(e){var t=0;e.labels.forEach(function(e){t++,window.open(e,"_blank")})}function printedScanform(e){window.open(e.link,"_blank"),window.location.reload()}function invoiceGenerationSuccess(e){e.invoices.forEach(function(e){window.open(e,"_blank")}),window.location.reload()}function updateShippingSuccess(e){window.location.href=window.location.href.split("?")[0]+"?selected_address="+e.id}function updatePaymentSuccess(e){jQuery(".modal").modal("hide"),window.location.href=window.location.href.split("?")[0]+"?p="+e.card_id}function updateOrderShippingSuccess(e){jQuery("input[name='shipping_address']").val(e.data);var t=JSON.parse(e.data);for(var a in t){var n=t[a];console.log(n,a),console.log(jQuery("[data-shippingfield='"+a+"']")),jQuery("[data-shippingfield='"+a+"']").text(n),"address_2"===a&&0==n.length?jQuery("[data-shippingfield='address_2']").addClass("d-none"):"address_2"===a&&n.length>0&&jQuery("[data-shippingfield='address_2']").removeClass("d-none")}jQuery(".modal").modal("hide")}function checkoutUser(e){jQuery('<form action="'+e.submit_link+'" method="POST"/>').append(jQuery('<input type="hidden" name="email">').val(e.email)).append(jQuery('<input type="hidden" name="first_name">').val(e.first_name)).append(jQuery('<input type="hidden" name="last_name">').val(e.last_name)).append(jQuery('<input type="hidden" name="user_address_1">').val(e.user_address_1)).append(jQuery('<input type="hidden" name="user_address_2">').val(e.user_address_2)).append(jQuery('<input type="hidden" name="user_city">').val(e.user_city)).append(jQuery('<input type="hidden" name="user_state">').val(e.user_state)).append(jQuery('<input type="hidden" name="user_zip">').val(e.user_zip)).append(jQuery('<input type="hidden" name="user_country">').val(e.user_country)).appendTo(jQuery(document.body)).submit()}function checkoutGuestSubmitted(e){jQuery('<form action="'+e.submit_link+'" method="POST"/>').append(jQuery('<input type="hidden" name="email">').val(e.email)).append(jQuery('<input type="hidden" name="first_name">').val(e.first_name)).append(jQuery('<input type="hidden" name="last_name">').val(e.last_name)).appendTo(jQuery(document.body)).submit()}function checkoutConfirmPaymentGuest(e){jQuery('<form action="'+e.submit_link+'" method="POST"/>').append(jQuery('<input type="hidden" name="data">').val(e.data)).appendTo(jQuery(document.body)).submit()}function straightRedirect(e){window.location.href=e.redirect_link}function straightReload(){window.location.reload()}function triviaAnswered(e){Object.values(e.percentages).forEach(function(t,a){var n=Object.keys(e.percentages)[a];jQuery("#triviaQuestion"+e.question_key).find("button[data-answer='"+n+"'] .user-percentage").css("width",t+"%")})}function superlativeSaved(e){$("."+e.type+"-picks").addClass("d-flex").removeClass("d-none"),$("."+e.type+"-snack").addClass("d-none").removeClass("d-flex"),$("#snackPollModal").modal("hide"),$('[data-elementrole="'+e.type+'-user-image"]').attr("alt","image of "+decodeHTMLEntities(e.user_pick.name)).attr("src",e.user_pick.image),$('[data-elementrole="'+e.type+'-user-name"]').text(decodeHTMLEntities(e.user_pick.name)),$('[data-elementrole="'+e.type+'-popular-image"]').attr("alt","image of "+decodeHTMLEntities(e.highest_rated.name)).attr("src",e.highest_rated.image),$('[data-elementrole="'+e.type+'-popular-name"]').text(decodeHTMLEntities(e.highest_rated.name)),getStarsHTML(e.user_pick.rating,"."+e.type+"-picks .your-pick .review-stars"),getStarsHTML(e.highest_rated.rating,"."+e.type+"-picks .popular-pick .review-stars")}function getStarsHTML(e,t){e=""==e?0:e,$(t).html("");for(var a,n="",r=1;r<=5;r++)a=e>=r?global_script_vars.template_uri+"/template-parts/full-star-svg.php":e>=r-.75?global_script_vars.template_uri+"/template-parts/half-star-svg.php":global_script_vars.template_uri+"/template-parts/empty-star-svg.php",$.ajax({method:"GET",url:a,async:!1,dataType:"html",success:function(e){$(t).append(e),n+=e}})}function addDrinkSuccess(){jQuery("#addDrinkUpgrade").html("").removeClass("btn-secondary").addClass("btn-success").text("Drink Upgrade Added"),jQuery("#drinkUpgradeModalLink").addClass("d-none"),jQuery("#drinkUpgradeAddedText").removeClass("d-none"),jQuery("#drinkUpgradeModal").modal("hide")}function decodeHTMLEntities(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function populateSelector(e,t){if($(t).is("[data-preorder]"))return!1;if(e=Math.min(10,e),$("#itemQuantity").empty(),e<=0)console.log(e),$("#addToCart").attr("disabled","disabled").text("Out of Stock"),$("#itemQuantity").parent().hide();else{$("#itemQuantity").parent().show(),$("#addToCart").removeAttr("disabled").text("Add to Cart");for(var a="",n=1;n<=e;n++)a+='<option value="'+n+'">'+n+"</option>";$("#itemQuantity").html(a)}}function nextOrder(e){var t=jQuery("input[name='ids']").val(),a={ids:t,setFulfilled:e,action:"next_order_fulfillment"};submitAjaxForm("/wp-admin/admin-ajax.php",a,"")}function runSearch(e){window.location.href="/shop-all?search="+e}function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function updateFilters(e,t,a){var n=Object.values(e);null===t?document.getElementById("filter-display").innerHTML="":"snack_types"in e&&"countries"in e?document.getElementById("filter-display").innerHTML=toTitleCase(e.snack_types.replace("-"," "))+" &#x2192; "+toTitleCase(e.countries.replace("-"," ")):document.getElementById("filter-display").innerHTML=toTitleCase(n[0].replace("-"," "));for(var r=0;r<a.length;r++){var o=[a[r].dataset.type,JSON.parse(a[r].dataset.countries)].flat(),s=o.filter(function(e){return n.includes(e)});n.length<=s.length?a[r].style.display="block":a[r].style.display="none"}}function equalHeight(e){var t=document.getElementsByClassName("equalHeight"),a=[],n=0;if(e===!0)for(n=0;n<t.length;n++)t[n].style.height="auto";for(n=0;n<t.length;n++){var r=t[n].clientHeight;a.push(r)}for(n=0;n<t.length;n++)t[n].style.height=Math.max.apply(Math,a)+"px",e===!1&&(t[n].className=t[n].className+" show")}function updateHistoryState(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remove",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(e){case"snack_types":"remove"==t&&urlParams.has("t")?urlParams["delete"]("t"):(t="add")&&(urlParams["delete"]("t"),urlParams.append("t",a));break;case"countries":"remove"==t&&urlParams.has("c")?urlParams["delete"]("c"):(t="add")&&(urlParams["delete"]("c"),urlParams.append("c",a))}var n=baseUrl+"?"+urlParams.toString();n=n.replace(/\?\s*$/,""),window.history.replaceState({},document.title,n)}function removeFilter(e){document.querySelectorAll("input[name='"+e.dataset.taxonomy+"_filter']:checked").length&&(document.querySelectorAll("input[name='"+e.dataset.taxonomy+"_filter']:checked")[0].checked=!1),updateHistoryState(e.dataset.taxonomy,"remove");var t=new CustomEvent("removeFilter",{detail:e});document.body.dispatchEvent(t),jQuery("#"+e.dataset.taxonomy+"RemoveFilter").prop("disabled",!0)}function initializeStarReviews(){var e=$(".review-stars .star-btn"),t=0;$(e).unbind("click"),$(e).on("click",function(e){var a=e.currentTarget,n=a.parentNode;n.style.opacity=.2,t=Array.prototype.indexOf.call(n.children,a)+1,$(a).parent().children().each(function(e,a){e<t?$(a).addClass("full").removeClass("empty"):$(a).removeClass("full").addClass("empty")});var r={rating:t,snack_id:n.dataset.snackid,action:"add-rating"};submitAjaxForm("/wp-admin/admin-ajax.php",r,null,null),n.style.opacity=1})}var loadingGif='<div class="loading d-flex align-items-center justify-content-center mx-auto">    \n<img style="max-width: 125px;" src="/wp-content/themes/wp-bootstrap-starter-child/loading.gif">\n</div>',ajaxUrl="/wp-admin/admin-ajax.php";jQuery(document).ready(function(){var e=jQuery("[data-ajaxcontainer]"),t=jQuery("[data-ajaxclickparent]");jQuery("[data-lazyload='1']");jQuery(e).each(function(e,t){var a;a=""==t.dataset.ajaxparams?{action:t.dataset.ajaxcontainer}:{action:t.dataset.ajaxcontainer,params:JSON.parse(t.dataset.ajaxparams)};var n="buttonlazyload"in t.dataset;"lazyload"in t.dataset&&initializeLazyLoader(t,t.dataset.ajaxcontainer,n),sendLoadRequest(t,a)}),jQuery(t).each(function(e,t){jQuery(t).on("click",function(){var e,t=jQuery(this).data("ajaxclickparent");if(!document.getElementById(t))return!1;var a=document.getElementById(t),n="buttonlazyload"in a.dataset;"lazyload"in a.dataset&&initializeLazyLoader(a,a.dataset.ajaxclickcontainer,n),jQuery(a).hasClass("nodata")?"undefined"!=typeof a.dataset.ajaxheader&&(document.getElementById(a.dataset.ajaxheader).style.display="none"):("undefined"!=typeof a.dataset.ajaxheader&&(document.getElementById(a.dataset.ajaxheader).style.display="block"),""==a.innerHTML.trim()&&(e=""==a.dataset.ajaxparams?{action:a.dataset.ajaxclickcontainer}:{action:a.dataset.ajaxclickcontainer,params:JSON.parse(a.dataset.ajaxparams)},sendLoadRequest(a,e))),jQuery(a).hasClass("show")?jQuery(a).next().removeClass("d-flex").addClass("d-none"):jQuery(a).next().removeClass("d-none").addClass("d-flex")})})}),document.addEventListener("AppleIDSignInOnSuccess",function(e){var t=e.detail;t.origin="login",jQuery.ajax({url:"/wp-content/themes/wp-bootstrap-starter-child/lib/AppleSignin.php",type:"POST",beforeSend:function(e){e.setRequestHeader("csrf_token",jQuery('meta[name="csrf-token"]').attr("content"))},data:t,dataType:"json",async:!0,success:function(e){var t=(Math.random()+1).toString(36).substring(2),a="/wp-admin/admin-ajax.php",n={pwd:t,email:e.data.email,method:"AppleID",action:"sc_login"};submitAjaxForm(a,n,"")},error:function(e){console.error("Error: ",e),jQuery(".form-error").show().text(e.responseJSON.data)}})}),document.addEventListener("AppleIDSignInOnFailure",function(e){console.error(e)});var CCev=!1,APev=!1;jQuery(document).ready(function(){if("checkout-confirm-pay"==document.body.dataset.namespace){var e,t=parseInt(Math.round(100*document.getElementsByName("total_amount")[0].value));e=window.location.href.indexOf("local")!==-1||window.location.href.indexOf("snackbar")!==-1||window.location.href.indexOf("candybar-dev")!==-1?Stripe("pk_test_n3rrzyh2ClIZlnCntL9X8IRx"):window.Stripe("pk_live_3L8cvOKHqpOpDF3JXfZqZTd2");var a=e.paymentRequest({country:"US",currency:"usd",total:{label:"SnackCrate",amount:t},requestPayerName:!1,requestPayerEmail:!1,requestShipping:!1}),n=e.elements(),r=n.create("paymentRequestButton",{paymentRequest:a,style:{paymentRequestButton:{type:"default",theme:"dark",height:"56px"}}});a.canMakePayment().then(function(e){e?(r.mount("#payment-request-button-applepay"),document.getElementById("apple-pay-window").style.display="block"):document.getElementById("apple-pay-window").style.display="none"}),a.on("token",function(e){console.log(e),e.complete("success"),CCev=!1,APev=e;var t=APev?APev:CCev,a="/wp-admin/admin-ajax.php",n={action:"sc_confirm_payment",payment_method:t.methodName,token:t.token.id};submitAjaxForm(a,n,"")}),a.on("cancel",function(e){console.log("fail"),e.complete("fail")})}});var freeShippingMinimum=35,shippingCost=4.99;jQuery(document).ready(function(){var e=jQuery;"shopping-cart"==document.body.dataset.namespace&&(null==sessionStorage.getItem("cart")&&fixSession(),e(".ajax_form").on("submit",function(t){if("removeFromCart"==e(this).attr("id")){var a=e(this).find("input[name='snack_id']").val();e("#cartQty_"+a).remove()}}),e(".cartQty, .mobileCartQty").on("change",function(t){var a=t.currentTarget.value,n=t.currentTarget.dataset.price,r=t.currentTarget.dataset.snackid;parseInt(a)>parseInt(t.currentTarget.max)&&(a=t.currentTarget.max,jQuery("#mobileCartQty_"+r).val(a),jQuery("#cartQty_"+r).val(a));var o=parseFloat(e("#totalPrice_"+r).text().replace(",","")).toFixed(2),s=parseFloat(a*n).toFixed(2);e("#totalPrice_"+r).text(s),e("#mobileTotalPrice_"+r).text(s);var i=o-s,d=parseFloat(e("#subTotal").text().replace(",","")).toFixed(2),c=parseFloat(e("#grandTotal").text().replace(",","")).toFixed(2);e("#subTotal").text((d-i).toFixed(2)),e("#grandTotal").text((c-i).toFixed(2)),d>=freeShippingMinimum&&d-i<freeShippingMinimum?(e("#grandTotal").text(parseFloat(c-i+shippingCost).toFixed(2)),e("#shippingTotal").text("$"+shippingCost)):d<freeShippingMinimum&&d-i>=freeShippingMinimum&&(e("#grandTotal").text(parseFloat(c-i-shippingCost).toFixed(2)),e("#shippingTotal").text("FREE"));var l=0;e(".cartQty").each(function(e,t){l+=parseInt(t.value)}),e("#cart-counter > p").text(l);var u={};e(".cartQty").each(function(e,t){switch(t.dataset.posttype){case"collection":case"country":u[t.dataset.snackid]={},u[t.dataset.snackid][t.dataset.cratesize]=parseInt(t.value);break;default:u[t.dataset.snackid]=parseInt(t.value)}}),sessionStorage.setItem("cart",JSON.stringify(u));var p="/wp-admin/admin-ajax.php",m={action:"sc_update_cart",cart:JSON.stringify(u)};jQuery.ajax({async:!1,url:p,type:"POST",beforeSend:function(e){e.setRequestHeader("csrf_token",jQuery('meta[name="csrf-token"]').attr("content"))},data:m,dataType:"json",success:function(e){console.log(e)},error:function(e){Object.keys(e).forEach(function(t){console.log(t,e[t])})}})}))}),jQuery(document).ready(function(){var e=jQuery,t=e("#email"),a=e("#firstname"),n=e("#lastname"),r=e("#address_1"),o=e("#city"),s=e("#zipcode"),i=e("#phone"),d=e(".form-error-1"),c=e(".form-error-2"),l=e(".form-error-3"),u=e(".form-error-4"),p=e(".email-exists-error");e(".guest-checkout-form").on("submit",function(m){function y(e){var t=/^\d{5}$/;return t.test(e)}function h(e){var t=/^\d{10}$/;return t.test(e)}function f(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/;return t.test(e)}e(p).addClass("d-none"),m.preventDefault();var v=e(".guest-checkout-form").find('[type="submit"]').first(),g=jQuery(v).text();jQuery(v).attr("disabled","disabled"),jQuery(v).text(""),jQuery(v).html('<div class="spinner-border text-light" role="status">\n        <span class="sr-only">Loading...</span>\n      </div>');var b=!0;0===a.val().length||0===n.val().length||0===t.val().length||0===r.val().length||0===o.val().length||0===s.val().length||0===i.val().length?(b=!1,d.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">One or more fields were left blank</p>')):d.html(""),y(s.val())?c.html(""):(b=!1,c.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Zipcode must be 5 digits</p>')),h(i.val())?u.html(""):(b=!1,u.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Phone number must be 10 digits</p>')),f(t.val())?l.html(""):(b=!1,l.html('<p class="mb-2 mb-md-3 bg-danger font-weight-semibold rounded-sm text-white p-2">Please enter a valid email address</p>')),b?e.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",async:!1,data:{email:t.val(),action:"sc_check_guest_email"},dataType:"json",success:function(t){if(console.log(m),t.data===!0)return p.html('<p class="mb-2 mb-md-3 text-danger">Oops! It looks like an account with that email already exists. Please <a class="text-danger text-decoration-underline" href="https://account.snackcrate.com" target="_blank">Sign In</a> or try a different email address.</p>'),e(p).removeClass("d-none"),!1;var a={},n=!0,r=!1,o=void 0;try{for(var s,i=e(".guest-checkout-form").serializeArray()[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var d=s.value;a[d.name]=d.value}}catch(c){r=!0,o=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw o}}submitAjaxForm("/wp-admin/admin-ajax.php",a,g,v)},error:function(e){}}):(jQuery(this).find('[type="submit"]').first().removeAttr("disabled"),jQuery(this).find('[type="submit"]').first().html(""),jQuery(this).find('[type="submit"]').first().text(g))})});var $=jQuery,doAction=void 0,actionUrl="/wp-admin/admin-ajax.php",confirmPaymentText="Place Order";jQuery(document).ready(function(){var e=jQuery;if("checkout-guest"==document.body.dataset.namespace||"checkout-confirm-shipping"==document.body.dataset.namespace){e("#billing_same").on("change",function(){e(this).is(":checked")?e("#billing_block").addClass("d-none"):e("#billing_block").removeClass("d-none")}),e("[data-addressid]").on("click",function(){var t=e(this).data("addressid");0!=t&&(e("input[name='shipping_address']").val(t),e(this).siblings().removeClass("selected"),e("[data-addressid="+t+"]").addClass("selected"))});var t=e(".email-exists-error");e("#email").on("change",function(){e.ajax({url:actionUrl,type:"POST",data:{email:e("#email").val(),action:"sc_check_guest_email"},dataType:"json",success:function(a){return a.data===!0?(t.html('<p class="mb-2 mb-md-3 text-danger">Oops! It looks like an account with that email already exists. Please <a id="scrollToLogin" class="text-danger text-decoration-underline" href=" #guestCheckoutSignin">Sign In</a> or try a different email address.</p>'),e(t).removeClass("d-none"),e("#scrollToLogin").on("click",function(t){t.preventDefault(),0==e("#guestCheckoutSignin:visible").length?e("#userAccount").click():(e("#guestCheckoutSignin").addClass("border border-danger"),e([document.documentElement,document.body]).animate({scrollTop:e("#guestCheckoutSignin").offset().top-80},500))}),!1):void e(t).addClass("d-none")}})})}else if("checkout-confirm-pay"==document.body.dataset.namespace){var a,n={base:{fontSize:"16px",color:"#32325d"}};a=window.location.href.indexOf("local")!==-1||window.location.href.indexOf("snackbar")!==-1||window.location.href.indexOf("candybar-dev")!==-1?window.Stripe("pk_test_n3rrzyh2ClIZlnCntL9X8IRx"):window.Stripe("pk_live_3L8cvOKHqpOpDF3JXfZqZTd2");var r=a.elements(),o=r.create("card",{hidePostalCode:!0,style:n});o.mount("#card-element"),o.addEventListener("change",function(e){var t=document.getElementById("card-errors");e.error?t.textContent=e.error.message:t.textContent=""}),e("[data-card]").length>0?(e("[data-card]").on("click",function(){var t=e(this).data("card");0!=t&&(e("input[name='source']").val(t),e(this).siblings().removeClass("selected"),e("[data-card="+t+"]").addClass("selected"))}),e("#newCustomerCard").on("submit",function(t){t.preventDefault();var n=e(this).find('[type="submit"]').first();disableSubmit(n),a.createToken(o).then(function(t){if(t.error){jQuery(n).removeAttr("disabled").text("Save");var a=document.getElementsByClassName("form-error")[0];a.textContent=t.error.message,e("#signup-customer").removeClass("avoid-clicks")}else{var r={name:e("#ccNameUpdate").val(),action:"sc_update_payment_method",token:t.token.id};submitAjaxForm(actionUrl,r,"Save",n)}})}),e("#confirmPaymentForm").on("submit",function(t){t.preventDefault();var a=e(this).find('[type="submit"]').first(),n={action:"sc_confirm_payment",source:e("[name='source']").val()};disableSubmit(a),submitAjaxForm(actionUrl,n,confirmPaymentText,a)})):e("#confirmPaymentForm").on("submit",function(t){t.preventDefault();var n=e(this).find('[type="submit"]').first();disableSubmit(n),runStripe(a,o,n)})}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},email=$("#user_email"),password=$("#user_password"),ccNumber=$("#ccNumber"),ccExpMonth=$("#ccExpMonth"),ccExpYear=$("#ccExpYear"),ccCvv=$("#ccCvv"),errorText1=$(".form-error-1"),errorText2=$(".form-error-2"),errorText3=$(".form-error-3"),errorText4=$(".form-error-4");jQuery(window).load(function(){function e(e){var t=e.selectedIndex;0===t?e.classList.remove("text-dark"):e.classList.add("text-dark")}function t(t){var a=t.target;e(a)}jQuery("[type='submit']").each(function(){jQuery(this).css("pointer-events","auto").css("opacity",1)});var a=document.querySelectorAll("select");a.forEach(function(a){a.addEventListener("change",t),e(a)}),$(window).width()<992?($(".progress").width()<$(".shipping-truck").width()-15?$(".shipping-truck").css("left","0"):$(".shipping-truck").css("left","calc(100% - 47px)"),$(".progress").width()<$(".progress-bar").width()?$(".progress-bar").css("width","100%"):$(".progress-bar").css("width","calc(100% - 15px)")):($(".progress").width()<$(".shipping-truck").width()-22?$(".shipping-truck").css("left","0"):$(".shipping-truck").css("left","calc(100% - 70px)"),$(".progress").width()<$(".progress-bar").width()?$(".progress-bar").css("width","100%"):$(".progress-bar").css("width","calc(100% - 22px)"))}),jQuery(document).ready(function(){var e=jQuery;e(function(){e('[data-toggle="tooltip"]').tooltip()}),e(function(){e('[data-toggle="popover"]').popover({html:!0})}),e(document).click(function(t){var a=e(t.target);!a.closest("#predictive-search").length&&e("#predictive-search").is(":visible")&&e("#predictive-search").hide()}),e(".appleid-signin").on("click",function(t){e("#appleid-signin").click()}),e("#primary").after('<a style="z-index: 100;" aria-label="click to scroll back to top" id="back-to-top" href="#" class="btn btn-primary btn-lg-md back-to-top text-white shadow-sm" role="button"><i class="fas fa-chevron-up"></i></a>'),e(window).scroll(function(){e(this).scrollTop()>50?e("#back-to-top").fadeIn():e("#back-to-top").fadeOut()}),e("#back-to-top").click(function(){return e("body,html").animate({scrollTop:0},400),!1}),initializeAjaxForms(),document.body.addEventListener("containerLoaded",function(e){initializeAjaxForms()})}),jQuery(document).ready(function(){var e=jQuery,t=e(".box-size-btns button"),a=e("#crateSize4Snack"),n=e("#crateSize8Snack"),r=e("#crateSize16Snack"),o=e("#snackQty4Snack"),s=e("#snackQty8Snack"),i=e("#snackQty16Snack");e("#addDrink").attr("disabled","disabled"),e("#addDrink").prop("checked",!1),console.log("stock spot"),e("#itemQuantity").is("[data-stock]")&&populateSelector(e("#itemQuantity").data("stock"),e("#itemQuantity")),e(t).on("click",function(t){e(".country-price").hide(),e(".box-size-btns button").removeClass("btn-active");var d=t.currentTarget.dataset.box;e("#"+d+"_prices").show(),t.currentTarget.classList.add("btn-active"),e("#addToCart").removeAttr("disabled"),t.currentTarget.dataset.drinkstock>0||t.currentTarget.dataset.preorder>0?(e("#addDrink").removeAttr("disabled"),e(".add-drink").removeClass("d-none").addClass("d-flex")):(e("#addDrink").attr("disabled","disabled"),e(".add-drink").removeClass("d-flex").addClass("d-none")),e("#crate_type").val(e(this).data("box")),populateSelector(t.currentTarget.dataset.stock,t.currentTarget),e(n).hasClass("btn-active")?(e("#freeShippingIcon").removeClass("opacity-0").addClass("opacity-1"),e(o).addClass("d-none"),
e(s).removeClass("d-none"),e(i).addClass("d-none")):e(r).hasClass("btn-active")?(e("#freeShippingIcon").removeClass("opacity-0").addClass("opacity-1"),e(o).addClass("d-none"),e(s).addClass("d-none"),e(i).removeClass("d-none")):e(a).hasClass("btn-active")&&(e("#freeShippingIcon").removeClass("opacity-1").addClass("opacity-0"),e(o).removeClass("d-none"),e(s).addClass("d-none"),e(i).addClass("d-none"))}),e("#addDrink").on("change",function(t){var n=t.currentTarget.checked?1:0,r=n?1:-1,o=parseFloat(e("#drink_price").val());e("#drink_addon").val(n),e(".country-price").each(function(t,a){var n=parseFloat(e(a).text().replace("$","")),s=parseFloat(n+o*r).toFixed(2);e(a).text("$"+s)}),e(t.target).is(":checked")&&!e(a).hasClass("btn-active")&&e("#freeShippingIcon").removeClass("opacity-0").addClass("opacity-1")})}),jQuery(document).ready(function(){"fulfillment"==document.body.dataset.namespace&&(jQuery("#addBox").on("click",function(){var e=jQuery(".box-block").last(),t=parseInt(jQuery(".box-block").last().data("blockcount"))+1,a=jQuery(".box-block").last().clone();jQuery(a).data("blockcount",t),jQuery(a).find(".size-select").last().attr("name","boxsize["+t+"]"),jQuery(a).find(".lb-select").last().attr("name","weight_lb["+t+"]").val(0),jQuery(a).find(".oz-select").last().attr("name","weight_oz["+t+"]").val(0),jQuery(a).find(".remove-box").last().data("block",t).addClass("d-block").removeClass("d-none"),jQuery(e).after(a)}),jQuery("body").on("click",".remove-box",function(e){jQuery(e.currentTarget).closest(".box-block").remove()}),jQuery(".fulfillment-item-row").on("click",function(e){if(jQuery(this).hasClass("bg-success"))jQuery(this).removeClass("bg-success text-white"),jQuery(this).hasClass("odd")&&jQuery(this).addClass("bg-gray-light");else{var t=parseInt(jQuery(this).find("[data-qty]").data("qty")),a=!0;t>1&&(a=window.confirm("Please confirm that you have taken "+t+" of this item.")),a&&jQuery(this).addClass("bg-success text-white").removeClass("bg-gray-light")}jQuery(".fulfillment-item-row").length==jQuery(".fulfillment-item-row.bg-success").length?jQuery("#print_label").removeAttr("disabled"):jQuery("#print_label").attr("disabled","disabled")}))}),jQuery(document).ready(function(){var e=jQuery;e(window).width()>=768&&e("#holidayLandingVid").html('<video class="position-absolute rounded" preload="auto" playsinline autoplay muted loop>\n            <source src="/wp-content/uploads/2022/11/HolidayMastHead_CandyBar_1280x720-center-min.mp4" type="video/mp4">\n        </video>')}),jQuery(document).ready(function(){var e=jQuery;e(window).width()>=768&&e("#holidayHomeVid").html('<video class="position-absolute country-loop" preload="auto" playsinline autoplay muted loop>\n            <source src="/wp-content/uploads/2022/11/HolidayMastHead_CandyBar_1280x720_v6.mp4" type="video/mp4">\n        </video>')}),jQuery(document).ready(function(){jQuery('#signIn input[type="checkbox"]').on("change",function(){jQuery(this).prev().toggleClass("fa-eye").toggleClass("fa-eye-slash");var e="password"===jQuery("#signIn #password").prop("type")?"text":"password";jQuery("#signIn #password").prop("type",e)})}),jQuery(document).ready(function(){var e=jQuery;e(".countries-menu-mobile li.geography > a").on("click",function(t){return e(this).parent().parent().css("transform","translate3d(-100vw, 0px, 0px)"),e(this).parent().children("ul.sub-menu-mobile").addClass("show-menu"),!1}),e(".menu-back").on("click",function(t){return e(this).parent().parent().parent().css("transform","translate3d(0%, 0px, 0px)"),e(this).parent().parent().children("ul.sub-menu-mobile").removeClass("show-menu"),!1}),e(".navbar-toggler").unbind("click"),e(".navbar-toggler").click(function(t){e(".site-content").css("transition","none"),e(".site-content").css("padding-top","34px"),e("body").addClass("noscroll"),e("#header").css("z-index","unset"),e("#header").css("margin-top","-34px"),e("#header").removeClass("fixed-top"),e("#header").addClass("position-relative"),e("#secondary-header").css("z-index","unset"),e("body").append('<div class="overlay fixed-top fixed-bottom"></div>')}),e("#collapse-close").on("click",function(){e(".site-content").css("padding-top","131px"),e("body").removeClass("noscroll"),e("#header").css("z-index",1050),e("#header").css("margin-top","unset"),e("#header").removeClass("position-relative"),e("#header").addClass("fixed-top"),e("#secondary-header").css("z-index",1050),e(".overlay").remove(),setTimeout(function(){e(".site-content").css("transition","all .3s ease")},100)}),e("#signInTrigger").on("click",function(){e(".site-content").css("padding-top","131px"),e("body").removeClass("noscroll"),e("#navbarToggler").removeClass("show"),e("#navbarToggler").removeClass("collapse"),e("#navbarToggler").addClass("collapsing"),e("#navbarToggler").removeClass("collapsing"),e("#navbarToggler").addClass("collapse"),e("#header").css("margin-top","unset"),e("#header").removeClass("position-relative"),e("#header").addClass("fixed-top"),e(".overlay").remove()});var t=["#viewSpecsModal","#editShippingAddressModal-0","#editPaymentModal-0","#snackRatingModal","#signinModal","#snackPollModal","#unboxVidModal","#drinkUpgradeModal"];t.forEach(function(t){e(t).on("show.bs.modal",function(){e("#header").css("z-index","unset"),e("#secondary-header").css("z-index","unset")}),e(t).on("hidden.bs.modal",function(){e("#header").css("z-index",1050),e("#secondary-header").css("z-index",1050)})});var a;e(window).on("resize",function(){clearTimeout(a),a=setTimeout(function(){e(window).width()>992?e(".overlay").remove():e(window).width()<992&&e(".navbar-collapse").hasClass("show")&&e(".overlay").length<1&&e("body").append('<div class="overlay fixed-top fixed-bottom"></div>')},100)});var n=e("#header"),r=n.outerHeight(),o=e("#secondary-header").outerHeight(),s=e("#countriesMenuModalDialog");e(s).css("top","calc("+o+"px + "+r+"px)"),e(document).scrollTop()<=0?(e(n).css("top",o+"px"),e(s).css("top","calc("+o+"px + "+r+"px)"),e("#content").css("padding-top",r+"px")):(e(n).css("top","0"),e(s).css("top",r+"px"),e("#content").css("padding-top",r-o+"px")),e(window).on("scroll",function(){var t=n.outerHeight(),a=e("#secondary-header").outerHeight();return e(document).scrollTop()<=0?(e(n).css("top",a+"px"),e(s).css("top","calc("+a+"px + "+t+"px)"),e("#content").css("padding-top",t+"px")):(e(n).css("top","0"),e(s).css("top",t+"px"),e("#content").css("padding-top",t-a+"px")),this.oldScroll===this.scrollY?null:(this.oldScroll>=this.scrollY||this.scrollY<0?e(n).removeClass("hide"):this.scrollY>=t&&e(n).addClass("hide"),void(this.oldScroll=this.scrollY))}),e(window).on("resize",function(){var t=n.outerHeight(),a=e("#secondary-header").outerHeight();e(n).css("top",a+"px"),e("#content").css("padding-top",t+"px"),0==e(document).scrollTop()?e(s).css("top","calc("+a+"px + "+t+"px)"):e(s).css("top",t+"px")})}),document.addEventListener("DOMContentLoaded",function(){jQuery('[type="search"]').on("keyup",function(e){13==e.originalEvent.which&&runSearch(e.currentTarget.value)}),jQuery("#searchSubmit").on("click",function(e){e.preventDefault(),runSearch(jQuery('[type="search"]').val())})});var currentUrl=new URL(window.location.href),baseUrl=currentUrl.origin+currentUrl.pathname,urlParams=new URLSearchParams(currentUrl.search);document.addEventListener("DOMContentLoaded",function(){if("shop-all"==document.body.dataset.namespace){var e={},t=document.getElementById("filterMsg"),a=document.getElementsByClassName("taxItem");if(urlParams.has("c")){var n=urlParams.get("c");document.getElementById(n+"_countries_filter")?(e.countries=n,updateFilters(e,"countries",a),document.getElementById(n+"_countries_filter").checked=!0,jQuery("#countriesRemoveFilter").prop("disabled",!1)):updateHistoryState("countries","remove"),0==jQuery(".taxItem:visible").length?t.style.display="block":t.style.display="none"}if(urlParams.has("t")){var r=urlParams.get("t");document.getElementById(r+"_snack_types_filter")?(e.snack_types=r,updateFilters(e,"snack_types",a),document.getElementById(r+"_snack_types_filter").checked=!0,jQuery("#snack_typesRemoveFilter").prop("disabled",!1)):updateHistoryState("snack_types","remove"),0==jQuery(".taxItem:visible").length?t.style.display="block":t.style.display="none"}document.body.addEventListener("change",function(n){var r=n.target;if(r.getAttribute("name").includes("_filter")){var o=r.id.split("_")[0],s=r.name.replace("_filter","");e[s]=o,"snack_types"==s&&urlParams.has("search")?(window.location.href=window.location.href.split("?")[0]+"?t="+o,jQuery("#"+s+"RemoveFilter").prop("disabled",!1)):(updateFilters(e,s,a),jQuery("#"+s+"RemoveFilter").prop("disabled",!1)),updateHistoryState(s,"add",o)}0==jQuery(".taxItem:visible").length?t.style.display="block":t.style.display="none"}),document.body.addEventListener("removeFilter",function(n){var r=n.detail.dataset.taxonomy;delete e[r];var o=null,s=null;Object.keys(e).length>0&&("snack_types"==r?(o=document.querySelector('input[name="countries_filter"]:checked'),s="countries"):(o=document.querySelector('input[name="snack_types_filter"]:checked'),s="snack_types")),updateFilters(e,s,a),t.style.display="none"})}}),jQuery(document).ready(function(){"shop-all"==document.body.dataset.namespace&&document.querySelector("#filterBtn").addEventListener("click",function(e){[].map.call(document.querySelectorAll(".filter-wrap"),function(e){e.classList.toggle("toggled")})})}),document.addEventListener("DOMContentLoaded",function(){if("shop-all"==document.body.dataset.namespace){var e;!function(){jQuery(".taxonomy_container .term_container:nth-child(6)").addClass("linGradient"),jQuery(".taxonomy_container .term_container:nth-child(n+7)").addClass("d-none");var t=document.getElementsByClassName("seeMoreCat"),a=document.getElementsByClassName("seeMoreIcon"),n=document.getElementsByClassName("seeMoreCatText"),r=document.querySelectorAll(".taxonomy_container .term_container:nth-child(6)"),o=(document.querySelectorAll("#search-filter div"),!1);for(e=0;e<t.length;e++)!function(e){t[e].addEventListener("click",function(s){var i=s.currentTarget,d=i.parentElement.id,c=document.querySelectorAll("#"+d+".taxonomy_container .term_container:nth-child(n+7)");o=!o,o===!0?(t[e].classList.add("active"),n[e].innerHTML="Show Less",r[e].classList.remove("linGradient"),c.forEach(function(e){return e.classList.remove("d-none")}),a[e].classList.add("fa-minus"),a[e].classList.remove("fa-plus")):(t[e].classList.remove("active"),n[e].innerHTML="Show More",r[e].classList.add("linGradient"),c.forEach(function(e){return e.classList.add("d-none")}),a[e].classList.remove("fa-minus"),a[e].classList.add("fa-plus"))})}(e)}()}}),function(){equalHeight(!1)}(),window.onresize=function(){equalHeight(!0)};var actionUrl="/wp-admin/admin-ajax.php";$(document).ready(function(){$(".modal.fade").on("hidden.bs.modal",function(e){$("#unboxVidModal iframe").attr("src",$("#unboxVidModal iframe").attr("src"))}),$("#readMoreAccordionBtn").on("click",function(e){$("#readMoreCollapse").hasClass("show")?$("#readMoreAccordionBtn").html('Read more <span class="h9 h7-xl ml-1 align-middle"><i class="fas fa-plus"></i></span>'):$("#readMoreAccordionBtn").html('Read less <span class="h9 h7-xl ml-1 align-middle"><i class="fas fa-minus"></i></span>')}),$(".size-btn").on("click",function(e){var t=e.currentTarget.dataset.size;$("#"+t+"Collapse").hasClass("show")?$("#"+t+"AccordionBtn span").html("<i class='fas fa-plus'></i>"):$("#"+t+"AccordionBtn span").html("<i class='fas fa-minus'></i>")}),$("#openRecipeVid").on("click",function(e){$("#thumbnail").addClass("open"),$("#embedVid").addClass("open")}),$("#closeRecipeVid").on("click",function(e){$("#embedVid iframe").attr("src",$("#embedVid iframe").attr("src")),$("#embedVid").removeClass("open"),$("#thumbnail").removeClass("open")}),$("#viewFullRecipeBtn").on("click",function(e){$("#viewFullRecipeBtn").addClass("d-none"),$("#viewLessRecipeBtn").removeClass("d-none")}),$("#viewLessRecipeBtn").on("click",function(e){$("#viewFullRecipeBtn").removeClass("d-none"),$("#viewLessRecipeBtn").addClass("d-none")});var e=$("form .single-answer");$(e).on("click",function(e){var t=e.currentTarget,a=$(t).closest("form.ajax_form");$(a).find("input[name='answer']").val(t.dataset.answer),$(a).submit(),$(t).hasClass("correct")?($(t).addClass("correct-answer"),$(t).children(".user-percentage").addClass("correct-answer d-block").removeClass("d-none")):($(t).addClass("incorrect-answer text-white"),$(t).children(".user-percentage").addClass("incorrect-answer d-block").removeClass("d-none"),$(t).siblings(".correct").addClass("correct-answer"),$(t).siblings(".correct").children(".user-percentage").addClass("correct-answer d-block").removeClass("d-none")),$(t).siblings().children(".user-percentage").addClass("d-block").removeClass("d-none"),$(t).siblings().prop("disabled",!0),$(t).prop("disabled",!0)});var t=$(".poll-modal-trigger");$(t).on("click",function(e){var t;$(e.currentTarget).hasClass("best-btn")?($("#snackPollCategory").text("Best"),t="best"):$(e.currentTarget).hasClass("worst-btn")?($("#snackPollCategory").text("Worst"),t="worst"):$(e.currentTarget).hasClass("weird-btn")&&($("#snackPollCategory").text("Weirdest"),t="weird"),$('#snackSuperlativeForm input[name="type"]').val(t),$("#snackSuperlativeForm button.single-snack").unbind("click"),$("#snackSuperlativeForm button.single-snack").on("click",function(e){$('#snackSuperlativeForm input[name="snack_id"]').val(e.currentTarget.dataset.snackid),$("#snackSuperlativeForm").submit(),equalHeight(!0)})}),initializeStarReviews(),document.body.addEventListener("containerLoaded",function(e){initializeStarReviews()});var a=new URLSearchParams(window.location.search);a.has("ref")&&"qr"==a.get("ref")&&$("#signinModal").modal("show"),$("#addDrinkUpgrade").on("click",function(e){$("#addDrinkUpgrade").attr("disabled",!0),$("#addDrinkUpgrade").text(""),$("#addDrinkUpgrade").html('<div class="spinner-border text-light" role="status">\n            <span class="sr-only">Loading...</span>\n        </div>');var t={action:"add_drink",subscription_id:$("input[name='drinkless_subscription_id']").val(),old_plan:$("input[name='drinkless_subscription_plan']").val(),currency_code:$("input[name='user_currency_code']").val(),external_id:$("input[name='drinkless_subscription_stripe_id']").val()},a="Add Drink Upgrade";submitAjaxForm(actionUrl,t,a,e.currentTarget)})});
//# sourceMappingURL=main.js.map
